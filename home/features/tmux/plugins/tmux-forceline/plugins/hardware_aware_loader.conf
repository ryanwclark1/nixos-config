# vim:set ft=tmux:
# Hardware-Aware Plugin Loader (Generated)
# This file is auto-generated based on hardware detection

# Plugin system configuration
set -ogq @forceline_plugin_auto_load "yes"
set -ogq @forceline_plugin_path "#{d:current_file}"
set -ogq @forceline_user_plugin_path "~/.config/tmux/forceline/plugins"

# Plugin loading state
set -g @_fl_plugins_loaded ""
set -g @_fl_plugins_failed ""
set -g @_fl_hardware_detected "yes"

# Hardware detection results (static)
set -g @_fl_is_laptop "false"
set -g @_fl_os_type "nixos"
set -g @_fl_capabilities "network,lan_ip,wan_ip,vcs,cpu,memory,gpu,graphics_memory,load,uptime,hostname,datetime,disk_usage"

# Core plugins (always loaded)
set -g @_fl_core_plugins "hostname,datetime,cpu,memory,gpu,graphics_memory,load,uptime"

# Load essential plugins
source -qF "#{d:current_file}/core/hostname/hostname.conf"
source -qF "#{d:current_file}/core/datetime/datetime.conf"
source -qF "#{d:current_file}/core/cpu/cpu.conf"
source -qF "#{d:current_file}/core/memory/memory.conf"
source -qF "#{d:current_file}/core/gpu/gpu.conf"
source -qF "#{d:current_file}/core/graphics_memory/graphics_memory.conf"
source -qF "#{d:current_file}/core/load/load.conf"
source -qF "#{d:current_file}/core/uptime/uptime.conf"

# Battery plugin skipped (desktop detected)
set -g @_fl_battery_skipped "yes"

# Load development plugins
source -qF "#{d:current_file}/extended/vcs/vcs.conf"
source -qF "#{d:current_file}/core/directory/directory.conf"

# Load system plugins
source -qF "#{d:current_file}/extended/disk_usage/disk_usage.conf"
source -qF "#{d:current_file}/core/session/session.conf"

# Load network plugins
source -qF "#{d:current_file}/extended/lan_ip/lan_ip.conf"
source -qF "#{d:current_file}/extended/wan_ip/wan_ip.conf"

# Build plugin list
set -g @_fl_all_plugins "#{@_fl_core_plugins},vcs,directory,disk_usage,session,lan_ip,wan_ip"

# Display loading summary
%if "#{==:#{@forceline_debug_modules},yes}"
  display-message "Hardware-aware loading: laptop=#{@_fl_is_laptop}, plugins=#{@_fl_all_plugins}"
%endif

# Register loaded plugins for status bar configuration
set -g @forceline_active_plugins "#{@_fl_all_plugins}"
