# vim:set ft=tmux:
# Network Plugin for tmux-forceline
# Network interface bandwidth monitoring

%hidden MODULE_NAME="network"

# Plugin metadata
set -g @_fl_plugin_network_version "2.0.0"
set -g @_fl_plugin_network_description "Network interface bandwidth monitoring with cross-platform support"

# Network configuration
set -ogq @forceline_network_interface "auto"  # auto-detect or specify interface
set -ogq @forceline_network_format "compact"  # compact, detailed, arrows
set -ogq @forceline_network_units "auto"      # auto, B, KB, MB, GB
set -ogq @forceline_network_interval "2"      # seconds between updates
set -ogq @forceline_network_enabled "yes"

# Base24 color configuration
set -ogq @forceline_network_fg "#{@fl_fg}"
set -ogq @forceline_network_bg "#{@fl_surface_0}"

# Plugin configuration
set -ogq "@forceline_${MODULE_NAME}_icon" "ó°¤¢ "
set -ogq "@forceline_${MODULE_NAME}_color" "#{@fl_base0B}"  # green theme
set -ogq "@forceline_${MODULE_NAME}_text_fg" "#{@forceline_network_fg}"
set -ogq "@forceline_${MODULE_NAME}_text_bg" "#{@forceline_network_bg}"

# Network display format using full absolute path
set -ogq "@forceline_${MODULE_NAME}_text" " #(/home/administrator/.config/tmux/plugins/tmux-forceline/modules/network/network.sh)"

# Load the universal status module renderer
source -F "#{d:current_file}/../../utils/status_module.conf"

# Register plugin capabilities
set -ag @_fl_plugin_capabilities "network_monitoring,bandwidth_tracking,interface_detection"