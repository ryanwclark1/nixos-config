# vim:set ft=tmux:
# Hostname Plugin for tmux-forceline
# Cross-platform hostname display with format options

%hidden MODULE_NAME="hostname"

# Plugin metadata
set -g @_fl_plugin_hostname_version "2.0.0"
set -g @_fl_plugin_hostname_description "Cross-platform hostname display with format options"

# Hostname display configuration
set -ogq @forceline_hostname_format "short"     # short, long, custom, upper, lower
set -ogq @forceline_hostname_custom ""          # Custom hostname when format is "custom"
set -ogq @forceline_hostname_show_icon "no"     # Show OS-specific icon

# Base24 color configuration for hostname
set -ogq @forceline_hostname_fg "#{@fl_fg}"
set -ogq @forceline_hostname_bg "#{@fl_surface_0}"

# Plugin configuration using hostname format variables
set -ogq "@forceline_${MODULE_NAME}_icon" "ó°Ÿ€ "
set -ogq "@forceline_${MODULE_NAME}_color" "#{@fl_base0E}"  # mauve theme
set -ogq "@forceline_${MODULE_NAME}_text_fg" "#{@forceline_hostname_fg}"
set -ogq "@forceline_${MODULE_NAME}_text_bg" "#{@forceline_hostname_bg}"

# Hostname display format
set -ogq "@forceline_${MODULE_NAME}_text" " #{hostname}"

# Load the hostname module to register format variables
source -F "#{d:current_file}/../../../modules/hostname/hostname.tmux"

# Load the universal status module renderer
source -F "#{d:current_file}/../../utils/status_module.conf"

# Register plugin capabilities
set -ag @_fl_plugin_capabilities "hostname_display,cross_platform,format_options,os_icons"