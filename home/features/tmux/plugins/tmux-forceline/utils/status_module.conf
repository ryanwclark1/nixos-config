# vim:set ft=tmux:
# Universal Status Module Renderer for tmux-forceline
# Generates status variables for modules using the plugin pattern

# Build the status variable using the module configuration
# Expected variables:
# - @forceline_${MODULE_NAME}_icon
# - @forceline_${MODULE_NAME}_color  
# - @forceline_${MODULE_NAME}_text_fg
# - @forceline_${MODULE_NAME}_text_bg
# - @forceline_${MODULE_NAME}_text

# Set status variable with icon, color, and text
set -ogq "@forceline_status_${MODULE_NAME}" "#[fg=#{E:@forceline_${MODULE_NAME}_color}]#[bg=default]#[fg=#{E:@forceline_${MODULE_NAME}_text_fg},bg=#{E:@forceline_${MODULE_NAME}_color}]#{E:@forceline_${MODULE_NAME}_icon}#[fg=#{E:@forceline_${MODULE_NAME}_text_fg},bg=#{E:@forceline_${MODULE_NAME}_text_bg}]#{E:@forceline_${MODULE_NAME}_text}#[fg=#{E:@forceline_${MODULE_NAME}_color}]#[bg=default]"

# Set icon background and foreground for theme integration
set -ogq "@forceline_status_${MODULE_NAME}_icon_bg" "#{E:@forceline_${MODULE_NAME}_color}"
set -ogq "@forceline_status_${MODULE_NAME}_icon_fg" "#{E:@forceline_${MODULE_NAME}_text_fg}"
set -ogq "@forceline_status_${MODULE_NAME}_text_fg" "#{E:@forceline_${MODULE_NAME}_text_fg}"
set -ogq "@forceline_status_${MODULE_NAME}_text_bg" "#{E:@forceline_${MODULE_NAME}_text_bg}"