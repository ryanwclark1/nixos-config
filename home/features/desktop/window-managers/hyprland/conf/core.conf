# -----------------------------------------------------
# Core Hyprland System Configuration
# Essential settings for cursor, misc behavior, XWayland, and environment
# -----------------------------------------------------
#
# This file consolidates core Hyprland functionality that was previously
# scattered across cursor.conf, custom.conf, and misc.conf for better
# organization and maintainability.
# -----------------------------------------------------

# =============================================================================
# CURSOR CONFIGURATION  
# =============================================================================
# Cursor behavior and hardware settings
cursor {
    no_hardware_cursors = true      # Disable hardware cursors (software rendering)
                                   # Set to false for AMD GPUs, true for problematic systems
    allow_dumb_copy = false        # Disable dumb copy for better performance
    hide_on_key_press = false      # Keep cursor visible when typing
    hide_on_touch = true          # Hide cursor when using touchscreen
}

# Apply cursor theme on startup (uses global variables from variables.conf)
exec-once = hyprctl setcursor $CURSOR_THEME $CURSOR_SIZE

# =============================================================================
# MISCELLANEOUS BEHAVIOR SETTINGS
# =============================================================================
# General Hyprland behavior and feature toggles
misc {
    # Startup appearance
    disable_hyprland_logo = true         # Remove Hyprland logo from background
    disable_splash_rendering = true      # Skip splash screen for faster startup
    
    # Power management integration  
    mouse_move_enables_dpms = true       # Mouse movement wakes displays
    key_press_enables_dpms = true        # Key presses wake displays
    
    # Performance optimizations
    vfr = true                          # Variable refresh rate support
    
    # Window behavior features
    enable_swallow = true               # Terminal window swallowing
    swallow_regex = ^(ghostty|kitty|Alacritty)$  # Which terminals can swallow
    focus_on_activate = true            # Focus window when activated externally
    animate_manual_resizes = true       # Animate manual window resizing
    animate_mouse_windowdragging = true # Animate mouse-driven window movement
    new_window_takes_over_fullscreen = 2 # New window behavior in fullscreen (2=smart)
    
    # Workspace and session management
    initial_workspace_tracking = 1     # Track initial workspace per monitor
    close_special_on_empty = true      # Close special workspaces when empty
    
    # Appearance
    background_color = 0x000000        # Background color (black)
    
    # Debug and compatibility (uncomment if needed)
    # suppress_portal_warnings = true  # Suppress XDG portal warnings
}

# XWayland settings  
xwayland {
    use_nearest_neighbor = false
    force_zero_scaling = false
}

# Additional environment variables (consolidated from custom.conf)
env = SDL_VIDEODRIVER,wayland
# env = QT_QPA_PLATFORMTHEME,qt5ct  # Uncomment if needed

# Layer rules for better integration
layerrule = blur, waybar
layerrule = ignorezero, waybar