# -----------------------------------------------------
# Window Management & Navigation
# -----------------------------------------------------
# Window operations, focus movement, window movement, and resizing
# -----------------------------------------------------

# Window Management
bind = $mainMod, Q, killactive
bind = ALT, F4, killactive
bind = $mainMod SHIFT, Q, exec, hyprctl activewindow | grep pid | tr -d 'pid:' | xargs kill
bind = $mainMod SHIFT, E, exit
bind = $mainMod SHIFT, SPACE, togglefloating
bind = $mainMod, F, fullscreen, 1
bind = $mainMod SHIFT, F, fullscreen, 0
bind = $mainMod, M, fullscreen, 0
bind = $mainMod, R, togglesplit  # Moved from P to avoid VM passthrough conflict
bind = $mainMod, G, togglegroup
bind = $mainMod, T, lockactivegroup, toggle
bind = $mainMod, I, pseudo
# bind = $mainMod, K, swapsplit  # Moved to allow SUPER+K for keybindings-menu

# Window sizing
bind = $mainMod, minus, splitratio, -0.1
bind = $mainMod, equal, splitratio, 0.1
bind = $mainMod SHIFT, minus, splitratio, -0.2
bind = $mainMod SHIFT, equal, splitratio, 0.2

# Window utilities (Omarchy-inspired)
bind = $mainMod, O, exec, window-pop                    # Pop window out (float & pin)
bind = CTRL ALT, DELETE, exec, close-all-windows        # Close all windows

# -----------------------------------------------------
# Navigation & Focus
# -----------------------------------------------------

# SUPER + left/right: Application switching (like Alt+Tab)
bind = $mainMod, left, cyclenext
bind = $mainMod, right, cyclenext, prev

# SUPER SHIFT + left/right: Move window to previous/next workspace
bind = $mainMod SHIFT, left, movetoworkspace, e-1
bind = $mainMod SHIFT, right, movetoworkspace, e+1

# Focus movement (vim keys + arrow keys)
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
# bind = $mainMod, K, movefocus, u  # Disabled: SUPER+K now shows keybindings-menu (use SUPER+up instead)
bind = $mainMod, J, movefocus, d
bind = $mainMod, up, movefocus, up
bind = $mainMod, down, movefocus, down

# Window movement (vim keys + arrow keys)
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, L, movewindow, r
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, J, movewindow, d
bind = $mainMod SHIFT, up, movewindow, up
bind = $mainMod SHIFT, down, movewindow, down

# Window resizing (vim keys + arrow keys)
bind = $mainMod CTRL, H, resizeactive, -20 0
bind = $mainMod CTRL, L, resizeactive, 20 0
bind = $mainMod CTRL, K, resizeactive, 0 -20
bind = $mainMod CTRL, J, resizeactive, 0 20
bind = $mainMod CTRL, left, resizeactive, -20 0
bind = $mainMod CTRL, right, resizeactive, 20 0
bind = $mainMod CTRL, up, resizeactive, 0 -20
bind = $mainMod CTRL, down, resizeactive, 0 20

