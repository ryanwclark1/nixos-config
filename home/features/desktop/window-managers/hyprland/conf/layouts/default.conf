# -----------------------------------------------------
# Dynamic Layout Configuration
# Uses variables and arithmetic for flexibility
# -----------------------------------------------------

# Layout variables for easy customization
$MASTER_RATIO = 0.55
$SCALE_FACTOR = 0.8
$SPLIT_DIRECTION = 2  # 0=mouse, 1=left/top, 2=right/bottom

# Calculate derived values using arithmetic
$SLAVE_RATIO = {{1.0 - $MASTER_RATIO}}
$SMALL_SCALE = {{$SCALE_FACTOR - 0.1}}

# Source appropriate input configuration
source = ~/.config/hypr/conf/input/default.conf

dwindle {
    pseudotile = true
    preserve_split = true
    force_split = $SPLIT_DIRECTION
    # no_gaps_when_only = false  # Can be dynamically controlled
}

master {
    allow_small_split = false
    special_scale_factor = $SCALE_FACTOR
    mfact = $MASTER_RATIO
    new_status = slave  # master, slave, inherit
    new_on_top = false
    # inherit_fullscreen = true
}

# gestures {
#     workspace_swipe = false
# }

binds {
    workspace_back_and_forth = true
    allow_workspace_cycles = true
    pass_mouse_when_bound = false
    movefocus_cycles_fullscreen = true
    disable_keybind_grabbing = false
    workspace_center_on = 0  # 0 - disabled, 1 - center on first window, 2 - center on active window
}
