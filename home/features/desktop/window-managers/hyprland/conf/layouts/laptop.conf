# -----------------------------------------------------
# Dynamic Laptop Layout Configuration
# Optimized for smaller screens and touchpad usage
# -----------------------------------------------------

# Laptop-specific variables
$LAPTOP_MASTER_RATIO = 0.6  # More space for main window
$LAPTOP_SCALE = 1.0  # Slightly larger for smaller screens
$TOUCHPAD_FINGERS = 3
$SWIPE_DISTANCE = 300

# Calculate optimized values
$SMALL_SCREEN_SCALE = {{$LAPTOP_SCALE - 0.05}}

# Source laptop-optimized input configuration
source = ~/.config/hypr/conf/input/laptop.conf

dwindle {
    pseudotile = true
    preserve_split = true
    force_split = 0  # Mouse-driven for laptop flexibility
    # no_gaps_when_only = true  # Maximize space on small screens
}

master {
    new_status = slave
    new_on_top = true  # Better for laptop workflow
    # mfact = $LAPTOP_MASTER_RATIO
    orientation = left
    # special_scale_factor = $LAPTOP_SCALE
    allow_small_split = true  # Better for smaller screens
}

# Touchpad gestures (laptop-specific)
gestures {
    # workspace_swipe = true
    workspace_swipe_fingers = $TOUCHPAD_FINGERS
    workspace_swipe_distance = $SWIPE_DISTANCE
    workspace_swipe_invert = true
    workspace_swipe_min_speed_to_force = 30
    workspace_swipe_cancel_ratio = 0.5
    workspace_swipe_create_new = true
    workspace_swipe_direction_lock = true
    workspace_swipe_direction_lock_threshold = 10
    workspace_swipe_forever = false
    workspace_swipe_use_r = false
}

binds {
    workspace_back_and_forth = true
    allow_workspace_cycles = true
    pass_mouse_when_bound = false
    movefocus_cycles_fullscreen = true
    disable_keybind_grabbing = false
    workspace_center_on = 0  # 0 - disabled, 1 - center on first window, 2 - center on active window
}
