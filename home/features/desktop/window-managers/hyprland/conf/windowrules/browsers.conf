# -----------------------------------------------------
# Web Browsers
# -----------------------------------------------------
# Rules for browser windows, Picture-in-Picture, and sharing indicators

# Browser Picture-in-Picture (enhanced - multiple patterns)
windowrulev2 = float, title:^(Picture-in-Picture|Picture.{0,1}in.{0,1}[Pp]icture)$
windowrulev2 = pin, title:^(Picture-in-Picture|Picture.{0,1}in.{0,1}[Pp]icture)$
windowrulev2 = move 69.5% 4%, title:^(Picture-in-Picture)$
windowrulev2 = move 100%-w-40 4%, title:^(Picture.{0,1}in.{0,1}[Pp]icture)$
windowrulev2 = size 400 225, title:^(Picture-in-Picture)$
windowrulev2 = size 600 338, title:^(Picture.{0,1}in.{0,1}[Pp]icture)$
windowrulev2 = keepaspectratio, title:^(Picture-in-Picture|Picture.{0,1}in.{0,1}[Pp]icture)$
windowrulev2 = noborder, title:^(Picture-in-Picture|Picture.{0,1}in.{0,1}[Pp]icture)$
windowrulev2 = opacity 1 1, title:^(Picture.{0,1}in.{0,1}[Pp]icture)$

# Browser class detection (chromium-based and firefox-based)
# Chromium-based browsers: google-chrome, chromium, brave-browser, Microsoft-edge, Vivaldi-stable, helium
windowrulev2 = tile, class:^((google-)?[cC]hrom(e|ium)|[bB]rave-browser|Microsoft-edge|Vivaldi-stable|helium)$

# Browser opacity (subtle transparency, but not for video sites)
windowrulev2 = opacity 1 0.97, class:^((google-)?[cC]hrom(e|ium)|[bB]rave-browser|Microsoft-edge|Vivaldi-stable|helium)$
windowrulev2 = opacity 1 0.97, class:^([fF]irefox|zen|librewolf)$

# No opacity for video sites (YouTube, Zoom)
windowrulev2 = opacity 1.0 1.0, initialTitle:^((?i)(?:[a-z0-9-]+\.)*youtube\.com_/|app\.zoom\.us_/wc/home)$

# Idle inhibition for fullscreen video
windowrulev2 = idleinhibit fullscreen, class:^(google-chrome)$
windowrulev2 = idleinhibit fullscreen, class:^(Google-chrome)$
windowrulev2 = idleinhibit fullscreen, class:^(firefox)$

# Browser-specific rules (Google Chrome sharing indicator)
windowrulev2 = suppressevent fullscreenrequest, class:^(Google-chrome)$, title:^(.*Sharing Indicator.*)$
windowrulev2 = move 50% 20, class:^(Google-chrome)$, title:^(.*Sharing Indicator.*)$
windowrulev2 = size 300 50, class:^(Google-chrome)$, title:^(.*Sharing Indicator.*)$

# Workspace assignments (uncomment and customize as needed)
# windowrulev2 = workspace 2, class:^(firefox)$

